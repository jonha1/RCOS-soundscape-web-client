"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[357,521,738],{4521:(t,o,e)=>{e.r(o),e.d(o,{createBoundingBox:()=>i,enumerateTilesInBoundingBox:()=>a,geoToXY:()=>c,getLocation:()=>u,watchLocation:()=>s});var n=e(6260);function i(t,o,e){var i=i([o,t]),r=r((0,n.ra8)(i,e,{units:"meters"}));return r}function r(t,o,e){var n=1<<e;return{x:Math.floor((o+180)/360*n),y:Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*n),z:e}}function a(t,o,e){for(var n=[],i=o;i<=e;i++)for(var a=r(t[3],t[0],i),u=r(t[1],t[2],i),s=a.x;s<=u.x;s++)for(var c=a.y;c<=u.y;c++)n.push({x:s,y:c,z:i});return n}function u(t){return new Promise((function(t,o){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(o){t({latitude:o.coords.latitude,longitude:o.coords.longitude,heading:o.coords.heading||0})}),(function(t){o("Error getting current position: "+t.message)})):o("Geolocation is not supported by this browser")}))}function s(t){return navigator.geolocation.watchPosition((function(o){console.log(o),t(o.coords.latitude,o.coords.longitude,o.coords.heading)}),(function(t){t.code==t.PERMISSION_DENIED?alert("Could not get your location. If you did not see a permission request, make sure your browser is not configured to always block location services."):console.error("Error getting current position: "+t.message)}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:0})}function c(t,o,e){var n=function(t){return t*(Math.PI/180)},i=n(e.geometry.coordinates[1]-t.geometry.coordinates[1]),r=n(e.geometry.coordinates[0]-t.geometry.coordinates[0]),a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n(t.geometry.coordinates[1]))*Math.cos(n(e.geometry.coordinates[1]))*Math.sin(r/2)*Math.sin(r/2),u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371e3,s=Math.atan2(e.geometry.coordinates[0]-t.geometry.coordinates[0],e.geometry.coordinates[1]-t.geometry.coordinates[1])-n(o);return{x:u*Math.sin(s)*.05,y:u*Math.cos(s)*.05}}},357:(t,o,e)=>{e.r(o),e.d(o,{default:()=>r});var n=e(6260),i=e(4521);const r=function(){var t={radiusMeters:40,heading:null,events:new EventTarget,updateLocation:function(o,e){t.latitude=o,t.longitude=e;var n=new CustomEvent("locationUpdated",{detail:{latitude:t.latitude,longitude:t.longitude}});t.events.dispatchEvent(n)},updateOrientation:function(o){t.heading=o;var e=new CustomEvent("orientationUpdated",{detail:{heading:t.heading}});t.events.dispatchEvent(e)},turfPoint:function(){return(0,n.zx7)([t.longitude,t.latitude])},relativePosition:function(o){return(0,i.geoToXY)(t.turfPoint(),t.heading,o)},normalizedRelativePosition:function(o){var e=t.relativePosition(o),n=e.x,i=e.y,r=Math.atan2(n,i);return{x:Math.sin(r),y:Math.cos(r)}},distance:function(o,e){return(0,n.IoC)(t.turfPoint(),o,e)}};return t}}}]);